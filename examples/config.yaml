# Example configuration for two-way junction library generation

target_length:
  min: 134
  max: 138

motifs_per_construct:
  min: 6
  max: 7

# Common 5' and 3' sequences that frame the construct
# Using balanced sequences from seq_tools resources
# You can also use p5_name and p3_name to reference by name:
#   p5_name: "cloud_lab_remake_rev_seq"
#   p3_name: "tail"
p5_sequence: "GGGCGAAAGCCC"
p5_structure: "((((....))))"

p3_sequence: "AAAGAAACAACAACAACAAC"
p3_structure: "...................."

# Hairpin sequence/structure at the loop
# If not specified, random 4nt hairpin loops are generated
hairpin_sequence: "CUUCGG"
hairpin_structure: "(....)"

# Structural elements
helix_length: 3
allow_wobble_pairs: true  # Allow G-U/U-G wobble pairs in helices

# Variable helix lengths -- enables the length solver to adjust helix sizes
# to hit the target length exactly. Without this, only motif combos that
# happen to produce the right total with fixed helix_length are feasible.
helix_length_min: 2
helix_length_max: 4

# Require GU wobble pair in helices of this length or longer (optional)
# gu_required_above_length: 4

# Spacer sequences between primers and first/last helix (optional)
# spacer_5p_sequence: "AA"
# spacer_5p_structure: ".."
# spacer_3p_sequence: "AA"
# spacer_3p_structure: ".."

# Validation settings
validation:
  enabled: true
  max_ensemble_defect: 10.0
  allow_structure_differences: true
  min_structure_match: 0.8
  # Sequence constraints (set to false to disable)
  avoid_consecutive_nucleotides: true
  max_consecutive_nucleotides: 5  # Reject AAAAA, UUUUU, etc. (4 needed due to p3 starting with AAA)
  avoid_consecutive_gc_pairs: true  # Disabled - too restrictive with helix_length=3
  max_consecutive_gc_pairs: 3

# Optimization settings for simulated annealing
optimization:
  iterations: 10000
  initial_temperature: 10.0
  cooling_rate: 0.00001
  target_library_size: 3000
  max_attempts: 100
  # target_motif_usage: 50  # Desired usage count per motif (optional)
